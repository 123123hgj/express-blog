{%extends 'layout.html'%}


{% block head %}
<style>
    .head-info{
        color: #e67e22;
    }
    .title {
        white-space: nowrap;overflow: hidden;text-overflow: ellipsis
    }
    .desc {
        display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 3;overflow: hidden;
    }
</style>
{% endblock %}

{%block content%}
    {%for blog in blogs%}
    <div class="listBox">
        <h1 class="title" title="{{ blog.title }}">{{ blog.title }}</h1>
        <p class="colDefault">
            <span class="head-info">[作者] </span><span class="colInfo">{{ blog.author.username }}</span>&nbsp;&nbsp;
            <span class="head-info">[时间] </span><span class="colInfo">{{ blog.add_time|date('Y-m-d H:i:s', -8*60) }}</span>&nbsp;&nbsp;
            <span class="head-info">[阅读] </span><span class="colInfo">{{ blog.view_count }}</span>&nbsp;&nbsp;
            <span class="head-info">[评论] </span><span class="colInfo">{{ blog.comment_count }}</span>
        </p>
        <dfn class="desc"><p>{{ blog.desc }}</p></dfn>
        <div class="function"><a href="/blog?bid={{blog.id}}">阅读全文</a></div>
    </div>
    {%endfor%}

    <div class="pager">
        <ul class="clear">

            <li class="previous">

                {%if page <= 1%}
                <span>没有上一页了</span>
                {%else%}
                <a href="/?cate={{ cate }}&page={{page-1}}">上一页</a>
                {%endif%}

            </li>

            {%if pages > 0%}
            <li>
                <strong>{{page}} / {{pages}}</strong>
            </li>
            {%endif%}

            <li class="next">

                {%if page >= pages%}
                <span>没有下一页了</span>
                {%else%}
                <a href="/?cate={{cate}}&page={{page+1}}">下一页</a>
                {%endif%}

            </li>

        </ul>
    </div>
{%endblock%}